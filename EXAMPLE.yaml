 # yaml-language-server: $schema=./genlogic-schema.json

columns:
  description:
    type: varchar
    size: 50
  account_name:
    type: varchar
    size: 50
  amount:
    type: numeric
    size: 10
    decimal: 2
  balance:
    type: numeric
    size: 15
    decimal: 2

tables:
  accounts:
    columns:
      account_id: 
        type: integer
        sequence: true
        primary_key: true
      description:
      account_name:
        $ref: account_name
        unique: true
      other_account_name: account_name
      balance:
        $ref: balance
        automation:
          type: SUM
          table: ledger
          foreign_key: account_fk
          column: amount

  ledger:
    foreign_keys:
      account_fk:
        table: accounts
        delete: restrict
    columns:
      date:
        type: date
      amount:

        

      