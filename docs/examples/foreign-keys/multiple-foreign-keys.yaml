# Multiple Foreign Keys Example
# Demonstrates a table with multiple foreign key relationships

columns:
  id:
    type: integer
    sequence: true
    primary_key: true

  name:
    type: varchar
    size: 100

  amount:
    type: numeric
    size: 10
    decimal: 2

tables:
  customers:
    columns:
      customer_id:
        $ref: id

      customer_name:
        $ref: name

  products:
    columns:
      product_id:
        $ref: id

      product_name:
        $ref: name

      price:
        $ref: amount

  orders:
    # Multiple foreign keys pointing to different tables
    foreign_keys:
      customer_fk:
        table: customers

      product_fk:
        table: products

    columns:
      order_id:
        $ref: id

      quantity:
        type: integer

      # Foreign key columns
      customer_fk:
        type: integer
        required: true

      product_fk:
        type: integer
        required: true

      order_date:
        type: date

      total_amount:
        $ref: amount

# What this generates:
# 1. Three tables: customers, products, orders
# 2. Two foreign key constraints on orders table:
#    - orders.customer_fk REFERENCES customers(customer_id)
#    - orders.product_fk REFERENCES products(product_id)
# 3. Indexes on both foreign key columns for performance
#
# This enables queries like:
# SELECT o.order_id, c.customer_name, p.product_name, o.quantity
# FROM orders o
# JOIN customers c ON o.customer_fk = c.customer_id
# JOIN products p ON o.product_fk = p.product_id;