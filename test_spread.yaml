# yaml-language-server: $schema=./genlogic-schema.json

columns:
    skey:
        type: integer
        primary_key: true
        sequence: true
    amount:
        type: numeric
        size: 10
        decimal: 2

tables:
    recurring_template:
        columns:
            template_id: skey
            description:
                type: varchar
                size: 100
            start_date:
                type: date
            end_date:
                type: date
            interval_text:
                type: varchar
                size: 20
            amount:

        spread:
            transactions:
                operations: [insert, update, delete]
                generate:
                    start_date: start_date
                    end_date: end_date
                    interval: interval_text
                column_map:
                    amount: amount
                    description: description
                literals:
                    type: RECURRING
                tracking_column: template_id

        content:
            - description: Monthly Rent
              start_date: 2024-01-01
              end_date: 2024-12-31
              interval_text: '1 month'
              amount: 1500.00

    transactions:
        foreign_keys:
            fk_template:
                table: recurring_template
        columns:
            transaction_id: skey
            date:
                type: date
            amount:
            description:
                type: varchar
                size: 100
            type:
                type: varchar
                size: 20
